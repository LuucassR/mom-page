generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id         Int         @id @default(autoincrement())
  nombre     String
  email      String      @unique
  telefono   String
  createdAt  DateTime    @default(now())
  cotizacion cotizacion?
}

model cotizacion {
  id         Int      @id @default(autoincrement())
  marca      String
  modelo     String
  anio       String
  version    String
  es0km      Boolean  @default(false)
  tieneGNC   Boolean  @default(false)
  userId     Int      @unique
  completada Boolean  @default(false)
  createdAt  DateTime @default(now())
  tipoSeguro String   @default("Terceros")
  updatedAt  DateTime @default(now()) @updatedAt
  user       User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Session {
  sid    String   @id @db.VarChar
  sess   Json     @db.Json
  expire DateTime @db.Timestamp(6)

  @@map("session") // Mapea el nombre exacto que espera connect-pg-simple
}
